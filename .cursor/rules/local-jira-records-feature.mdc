---
description: USE WHEN: creating local Markdown (.md) records that mirror Jira Features in the G&A Jira environment.
globs:
alwaysApply: false
---

# Local Jira Records (Markdown) — Feature

This rule defines **how to create local `.md` files** that act as the canonical "offline" record for Jira Feature work.

**Authoritative Jira field IDs, constraints, and formatting rules live in:** `.cursor/rules/jira-mcp-integration.mdc`.

## Goals

- Create local records that are **easy to read**, **diff**, and **copy into Jira**.
- Ensure content is structured according to **Feature issue type** and the **custom field mappings** we use in Jira.

## Where to Store Local Jira Record Files

Pick a consistent folder in this repo, e.g.:

- `jira/` (recommended)
- `docs/jira/`

Do **not** scatter Jira records across unrelated folders.

## File Naming Conventions

Use one of these:

- If Jira key exists: `{KEY} - {short-title}.md` (example: `WOR-123 - Add SSO mapping.md`)
- If Jira key does not exist yet: `DRAFT - Feature - {short-title}.md`

Keep `{short-title}` short and filesystem-safe.

## Common Front Matter (Recommended)

Add YAML front matter to every local Jira record:

```yaml
---
jira_key: ""              # e.g. "WOR-123" once created
issue_type: "Feature"     # Feature
parent_key: ""            # For Feature: Epic key (e.g., "WOR-100")
reporter: ""              # Email or account id of the person who created/reported the issue
status: ""                # Optional: human-readable
team_id: ""               # Jira Team field: customfield_10001 (UUID)
sprint_id: ""             # Jira Sprint field: customfield_10020 (integer)
assignee: ""              # Email or account id (depends on your Jira usage)
pm_owner: ""              # Jira PM Owner: customfield_10246 (email/account id)
story_points: ""          # Jira Story Points: customfield_10026
labels: []                # Optional
created_at: ""            # Optional
updated_at: ""            # Optional
---
```

> **Note:** Team and Sprint are often shown as "inherited" in Jira UI. Don't assume non-editable — `jira-mcp-integration.mdc` explains checking `editmeta`.

## Content Rules

- **Summary/title must be ≤ 255 characters** (Jira constraint).
- For **ADF fields** (custom fields that require ADF format), local records must store **both versions**:
  - **Markdown version** (human-readable, for editing and review)
  - **ADF JSON version** (for direct use in Jira API calls)
- The ADF version should be stored in a collapsible code block or separate section below the Markdown version.
- **Do NOT include references to other local `.md` files** in descriptions sent to Jira. These local files do not exist in Jira and such references will be broken links. Only reference Jira issues (by key, e.g., `WOR-123`) or external URLs.

## Feature — Local Record Template (maps to known Feature custom fields)

**Feature custom fields (ADF) from `jira-mcp-integration.mdc`:**
- Description: `description` (**ADF**)
- Business Problem: `customfield_10255` (**ADF**)
- High-Level Scope: `customfield_10323` (**ADF**)
- Success Metrics: `customfield_10391` (**ADF**)
- Technical Notes: `customfield_10356` (**ADF**)

**Standard Jira fields:**
- Reporter: `reporter` (email or account id)
- Parent: `parent` (Epic key for Features)

```markdown
---
jira_key: ""
issue_type: "Feature"
parent_key: ""            # Epic key (e.g., "WOR-100")
reporter: ""              # Email or account id
status: ""
team_id: ""
sprint_id: ""
pm_owner: ""
---

## Summary
[Feature title]

## Description

[Markdown content - human-readable version]

<details>
<summary>ADF Version (description)</summary>

```json
{
  "type": "doc",
  "version": 1,
  "content": [
    {
      "type": "paragraph",
      "content": [
        { "type": "text", "text": "[Convert markdown above to ADF]" }
      ]
    }
  ]
}
```
</details>

## Business Problem (customfield_10255)

[Markdown content - human-readable version]

<details>
<summary>ADF Version (customfield_10255)</summary>

```json
{
  "type": "doc",
  "version": 1,
  "content": [
    {
      "type": "paragraph",
      "content": [
        { "type": "text", "text": "[Convert markdown above to ADF]" }
      ]
    }
  ]
}
```
</details>

## High-Level Scope (customfield_10323)

[Markdown content - human-readable version]

<details>
<summary>ADF Version (customfield_10323)</summary>

```json
{
  "type": "doc",
  "version": 1,
  "content": [
    {
      "type": "bulletList",
      "content": [
        {
          "type": "listItem",
          "content": [
            {
              "type": "paragraph",
              "content": [
                { "type": "text", "text": "[Convert markdown above to ADF]" }
              ]
            }
          ]
        }
      ]
    }
  ]
}
```
</details>

## Success Metrics (customfield_10391)

[Markdown content - human-readable version]

<details>
<summary>ADF Version (customfield_10391)</summary>

```json
{
  "type": "doc",
  "version": 1,
  "content": [
    {
      "type": "bulletList",
      "content": [
        {
          "type": "listItem",
          "content": [
            {
              "type": "paragraph",
              "content": [
                { "type": "text", "text": "[Convert markdown above to ADF]" }
              ]
            }
          ]
        }
      ]
    }
  ]
}
```
</details>

## Technical Notes (customfield_10356)

[Markdown content - human-readable version]

<details>
<summary>ADF Version (customfield_10356)</summary>

```json
{
  "type": "doc",
  "version": 1,
  "content": [
    {
      "type": "paragraph",
      "content": [
        { "type": "text", "text": "[Convert markdown above to ADF]" }
      ]
    }
  ]
}
```
</details>

## References
- Related Jira tickets (by key, e.g., `WOR-123`)
- External links/URLs
- **Note:** Do not reference other local `.md` files here — these do not exist in Jira
```

## Copy/Paste Checklist (Before Creating/Updating Jira)

Use `.cursor/rules/jira-mcp-integration.mdc` to ensure:

- You're respecting the **character limits** (esp. summary).
- You're using **ADF** for:
  - `description` (Description)
  - `customfield_10255` (Business Problem)
  - `customfield_10323` (High-Level Scope)
  - `customfield_10391` (Success Metrics)
  - `customfield_10356` (Technical Notes)
- **You have set the `reporter` field** (email or account id).
- **You have set the `parent_key` field** (Epic key for Features).
- **You have removed any references to local `.md` files** from all fields before sending to Jira. Only Jira issue keys (e.g., `WOR-123`) and external URLs should be referenced.
